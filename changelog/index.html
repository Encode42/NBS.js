<html lang=en><head><meta charset=UTF-8><title>NBS.js</title><link href=https://cdn.jsdelivr.net/npm/water.css@2/out/dark.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/@speed-highlight/core@1.1.6/dist/themes/github-dark.css rel=stylesheet><link href=./index.css rel=stylesheet><link href=assets/favicon/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=assets/favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=assets/favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=assets/favicon/site.webmanifest rel=manifest><link href=assets/favicon/safari-pinned-tab.svg rel=mask-icon color=#202b38><link href=assets/favicon/favicon.ico rel="shortcut icon"><meta content=#202b38 name=msapplication-TileColor><meta content=assets/favicon/browserconfig.xml name=msapplication-config><meta content=#202b38 name=theme-color></head><body><main><h1>Changelog</h1><p>All notable changes to this project will be documented in this file.</p><p>The format is based on <a href=https://keepachangelog.com/en/1.0.0/ >Keep a Changelog</a>, and this project adheres to <a href=https://semver.org/spec/v2.0.0.html>Semantic Versioning</a>.</p><h1>2.1.2</h1><h3>Changed</h3><ul><li>Updated all <code>devDependencies</code>.</li><li>Revamped build scripts.</li><li>Changed target from <code>ESNext</code> to <code>ES2015</code> for compatibility.</li></ul><h3>Fixed</h3><ul><li>Properly included typings.</li><li>Moved <code>devDependencies</code> out of <code>dependencies</code>.</li></ul><h1>2.1.1</h1><h3>Fixed</h3><ul><li>Fixed potential <code>defaultSongMeta</code> pollution.</li><li>Fixed potential <code>defaultSongLoopOptions</code> pollution.</li><li>Fixed potential <code>defaultSongAutosaveOptions</code> pollution.</li><li>Fixed <code>defaultSongStats</code> pollution.</li><li>Fixed potential <code>defaultLayerMeta</code> pollution.</li><li>Fixed potential <code>defaultInstrumentMeta</code> pollution.</li></ul><h1>2.1.0</h1><h3>Added</h3><ul><li>The <code>Song#arrayBuffer</code> field.</li><li>The <code>SongStats#lastMeasure</code> getter.</li></ul><h3>Changed</h3><ul><li>The <code>defaultSongStats#duration</code> getter is now defined after song instantiation.</li><li>The <code>defaultSongStats#hasSolo</code> getter is now defined after song instantiation.</li></ul><h3>Removed</h3><ul><li>The <code>defaultSongStats#duration</code> default value.</li><li>The <code>defaultSongStats#hasSolo</code> default value.</li></ul><h1>2.0.2</h1><h3>Added</h3><ul><li>Minified bundles (<code>cjs.min.js</code>, <code>esm.min.js</code>, and <code>umd.min.js</code>).</li></ul><h3>Changed</h3><ul><li>Updated <code>README.md</code>.</li></ul><h1>2.0.0</h1><h3>Added</h3><ul><li>The <code>Song#meta</code> field.</li><li>The <code>Song#loop</code> field.</li><li>The <code>Song#autosave</code> field.</li><li>The <code>Song#stats</code> field.</li><li>The <code>options</code> argument in <code>Song#addNote</code>.</li><li>The <code>Layer#meta</code> field.</li><li>The <code>options</code> argument in <code>Layer#addNote</code>.</li><li>The <code>Note#meta</code> field.</li><li>The <code>options</code> argument in <code>Note</code>.</li><li>The <code>Instrument#meta</code> field.</li><li>The <code>SongInstrument</code> class.</li><li>The <code>SongMeta</code> interface.</li><li>The <code>SongStats</code> interface.</li><li>The <code>SongAutosaveOptions</code> interface.</li><li>The <code>SongLoopOptions</code> interface.</li><li>The <code>LayerMeta</code> interface.</li><li>The <code>NoteOptions</code> interface.</li><li>The <code>InstrumentMeta</code> interface.</li><li>The <code>InstrumentOptions</code> interface.</li><li>The <code>defaultSongMeta</code> object.</li><li>The <code>defaultSongStats</code> object.</li><li>The <code>defaultSongAutosaveOptions</code> object.</li><li>The <code>defaultSongLoopOptions</code> object.</li><li>The <code>defaultLayerMeta</code> object.</li><li>The <code>defaultNoteOptions</code> object.</li><li>The <code>defaultInstrumentMeta</code> object.</li><li>The <code>defaultInstrumentOptions</code> object.</li></ul><h3>Changed</h3><ul><li>Renamed <code>Song#size</code> to <code>Song#length</code>.</li><li>Renamed <code>Song#addLayer</code> to <code>Song#createLayer</code>.</li><li>Swapped <code>layer</code> and <code>tick</code> arguments in <code>Song#setNote</code>.</li><li>Moved various fields from <code>Song</code> to <code>Song#meta</code><ul><li>The <code>Song#name</code> field.</li><li>The <code>Song#author</code> field.</li><li>The <code>Song#originalAuthor</code> field.</li><li>The <code>Song#description</code> field.</li><li>The <code>Song#midiName</code> field.<ul><li>Renamed to <code>SongMeta#importName</code>.</li></ul></li></ul></li><li>Moved various fields from <code>Song</code> to <code>Song#loop</code><ul><li>The <code>Song#loopEnabled</code> field.<ul><li>Renamed to <code>SongLoopOptions#enabled</code>.</li></ul></li><li>The <code>Song#loopStartTick</code> field.<ul><li>Renamed to <code>SongLoopOptions#startTick</code>.</li></ul></li><li>The <code>Song#maxLoopCount</code> field.<ul><li>Renamed to <code>SongLoopOptions#totalLoops</code>.</li></ul></li></ul></li><li>Moved various fields from <code>Song</code> to <code>Song#autosave</code><ul><li>The <code>Song#autoSaveEnabled</code> field.<ul><li>Renamed to <code>SongAutosaveOptions#enabled</code>.</li></ul></li><li>The <code>Song#autoSaveDuration</code> field.<ul><li>Renamed to <code>SongAutosaveOptions#interval</code>.</li></ul></li></ul></li><li>Moved various fields from <code>Song</code> to <code>Song#stats</code><ul><li>The <code>Song#minutesSpent</code> field.</li><li>The <code>Song#leftClicks</code> field.</li><li>The <code>Song#rightClicks</code> field.</li><li>The <code>Song#blocksAdded</code> field.</li><li>The <code>Song#blocksRemoved</code> field.</li><li>The <code>Song#hasSolo</code> field.<ul><li>Checks for <code>Layer#isSolo</code> on get.</li></ul></li><li>The <code>Song#endTime</code> field.<ul><li>Renamed to <code>SongStates#duration</code>.</li></ul></li></ul></li><li>Moved various fields from <code>Song</code> to <code>Song#instruments</code><ul><li>The <code>Song#firstCustomIndex</code> field.</li><li>The <code>Song#instruments</code> field.<ul><li>Renamed to <code>SongInstrument#loaded</code>.</li></ul></li></ul></li><li>Moved various fields from <code>Layer</code> to <code>Layer#meta</code><ul><li>The <code>Layer#name</code> field.</li></ul></li><li>Renamed <code>Layer#locked</code> to <code>Layer#isLocked</code>.</li><li>Renamed <code>Layer#solo</code> to <code>Layer#isSolo</code>.</li><li>Renamed <code>Layer#velocity</code> to <code>Layer#volume</code>.</li><li>Renamed <code>Layer#panning</code> to <code>Layer#stereo</code>.</li><li><code>Note#instrument</code> now stores an instrument ID.</li><li>Moved various fields from <code>Instrument</code> to <code>Instrument#meta</code><ul><li>The <code>Instrument#name</code> field.</li><li>The <code>Instrument#audioSrc</code> field.<ul><li>Renamed to <code>InstrumentOptions#soundFile</code>.</li></ul></li></ul></li><li>Replaced <code>static Song#fromArrayBuffer</code> with <code>Util#fromArrayBuffer</code>.</li><li>Replaced <code>static Song#toArrayBuffer</code> with <code>Util#toArrayBuffer</code>.</li><li>Typescript now compiles to ESNext rather than CommonJS.</li><li>Switched from Webpack to Rollup for CommonJS and ESM modules.</li><li>CommonJS and ESM modules are now stored in <code>dist</code>. <code>package.json</code> should handle this.</li><li>Improved documentation in <code>util.ts</code>.</li><li>Adjusted documentation everywhere to match <a href=https://opennbs.org/nbs>the official documentation</a>.</li><li>Made <code>Buffer#buffer</code> readonly.</li></ul><h3>Removed</h3><ul><li>The <code>key</code> argument in <code>Song#addNote</code>.</li><li>The <code>panning</code> argument in <code>Song#addNote</code>.</li><li>The <code>velocity</code> argument in <code>Song#addNote</code>.</li><li>The <code>pitch</code> argument in <code>Song#addNote</code>.</li><li>The <code>key</code> argument in <code>Layer#addNote</code>.</li><li>The <code>panning</code> argument in <code>Layer#addNote</code>.</li><li>The <code>velocity</code> argument in <code>Layer#addNote</code>.</li><li>The <code>pitch</code> argument in <code>Layer#addNote</code>.</li><li>The <code>key</code> argument in <code>Note</code>.</li><li>The <code>panning</code> argument in <code>Note</code>.</li><li>The <code>velocity</code> argument in <code>Note</code>.</li><li>The <code>pitch</code> argument in <code>Note</code>.</li><li>The <code>name</code> argument in <code>Instrument</code>.</li></ul><h1>1.2.3</h1><h3>Changed</h3><ul><li>Bumped webpack version from <code>5.65.0</code> to <code>5.67.0</code>.</li></ul><h3>Fixed</h3><ul><li>Custom instruments polluting <code>Instrument#builtIn</code>.</li></ul><h1>1.2.2</h1><h3>Changed</h3><ul><li>Correctly generated webpack bundle.</li><li>Updated various values in <code>package.yml</code>.</li><li>Updated NPM scripts.</li></ul><h3>Added</h3><ul><li><code>dist/index.js</code> is now published to NPM.</li></ul><h2>1.2.1</h2><h3>Changed</h3><ul><li>Made <code>Layer#setNote</code> return the <code>note</code> argument.</li><li>Made <code>Song#nbsVersion</code> default to <code>5</code>.</li><li>Made <code>Song#firstCustomIndex</code> default to <code>Instrument#builtIn.length</code></li><li>Improved method documentation.</li></ul><h3>Added</h3><ul><li>The <code>Song#setNote</code> method.</li></ul><h2>1.2.0</h2><h3>Changed</h3><ul><li><code>BufferReader#viewer</code> and <code>BufferWriter#viewer</code> have been made <code>protected</code>.</li></ul><h3>Added</h3><ul><li><code>pressKey</code> to <code>InstrumentOptions</code>. Defaults to <code>false</code>.</li><li>The <code>Instrument#pressKey</code> field.</li><li>The <code>Layer#solo</code> field.</li><li>The <code>Song#firstCustomIndex</code> field.</li><li>The <code>Song#hasSolo</code> field.</li><li>The <code>Song#addNote</code> method.</li><li>The <code>Song#toArrayBuffer</code> member and static method.</li></ul><h3>Removed</h3><ul><li><code>pitch</code> from <code>InstrumentOptions</code>.</li><li><code>song</code> from <code>Layer</code>'s constructor.</li><li>The <code>Instrument#pitch</code> field.</li><li>The <code>Layer#song</code> field.</li><li>The <code>Layer#delete()</code> method.</li></ul><h2>1.1.2</h2><h3>Fixed</h3><ul><li>The <code>Instrument#builtIn</code> field incorrectly being overwritten by falsy values.</li><li>The <code>Note#instrument</code> field incorrectly being overwritten by falsy values.</li><li>The <code>Note#key</code> field incorrectly being overwritten by falsy values.</li><li>The <code>Note#panning</code> field incorrectly being overwritten by falsy values.</li><li>The <code>Note#velocity</code> field incorrectly being overwritten by falsy values.</li><li>The <code>Note#pitch</code> field incorrectly being overwritten by falsy values.</li></ul><h2>1.1.1</h2><h3>Changes</h3><ul><li>Made <code>InstrumentOptions</code> a public interface.</li><li>Made <code>Instrument#name</code> default to <code>""</code>.</li><li>Made <code>Instrument#audioSrc</code> default to <code>""</code>.</li><li>Made <code>Instrument#pitch</code> default to <code>0</code>.</li><li>Made <code>Instrument#key</code> default to <code>45</code>.</li><li>Made <code>Instrument#builtIn</code> default to <code>false</code>.</li><li>Made <code>Layer#panning</code> default to <code>0</code>.</li><li>Made <code>Song#tempo</code> default to <code>10</code>.</li><li>Moved <code>Layer#setNote</code> to <code>Layer#addNote</code>.</li><li>Moved <code>Layer#addNote</code>'s <code>instrument</code> argument.</li><li>Improved method documentation.</li></ul><h3>Added</h3><ul><li>Defaults for <code>Note</code>'s constructor.</li><li>The <code>instrument</code> argument to <code>Note</code>'s constructor.</li><li>The <code>Song#errors</code> field.</li><li>The <code>Layer#setNote</code> method.</li></ul></main></body></html>